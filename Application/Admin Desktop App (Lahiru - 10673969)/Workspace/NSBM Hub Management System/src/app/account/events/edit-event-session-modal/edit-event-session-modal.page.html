<ion-header>
  <ion-toolbar>
    <ion-title>Edit Details of Event Session</ion-title>
    <ion-button (click)="closeEditEventSessionModal()" slot="end" shape="round" fill="outline" color="danger" style="margin-right: 20px;">
      <ion-icon name="close-outline" style="font-size: 30px;"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-card>
    <ion-card-content>

      <form [formGroup]="editEventSessionForm" 
        (ngSubmit)="editPublishedEventSession('Confirmation', 'Event session will be updated with these details, you want to continue?', editEventSessionForm.value)">
        <ion-grid>
          <ion-row>
            <ion-col size="5">
              
              <ion-label class="editEventFormLabel">
                Event Title
              </ion-label>
              
            </ion-col>
            <ion-col size="7">
              <ion-item>
                <ion-input type="text" placeholder="Change title" inputClear formControlName="eventTitle"></ion-input>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="5">
              
              <ion-label class="editEventFormLabel">
                Event Date 
              </ion-label>
              
            </ion-col>
            <ion-col size="7">
              <input placeholder="Select date" (click)="eventDate.open()" [matDatepicker]="eventDate" [min]="minDate" [max]="maxDate" readOnly formControlName="eventDate"
                                  style="border: #ccc 1px solid;
                                        border-radius: 5px;
                                        width: 100%;
                                        height: 100%;
                                        padding: 15px;">
              <mat-datepicker #eventDate></mat-datepicker>
              <ion-icon name="calendar-outline" style="position: absolute;
                                  top: 13px;
                                  right: 16px;
                                  color: rgb(78, 78, 78);
                                  font-size: 28px;"></ion-icon>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="5">
              
              <ion-label class="editEventFormLabel">
                Event Start Time
              </ion-label>
              
            </ion-col>
            <ion-col size="7">
              <input [ngxTimepicker]="eventStartTime" placeholder="Pick Start Time" readOnly formControlName="eventStartTime"
									style="border: #ccc 1px solid;
										border-radius: 5px;
										width: 100%;
										height: 100%;
										padding: 15px;">
              <ngx-material-timepicker #eventStartTime [minutesGap]="5" [defaultTime]="eventSessionStartTime"></ngx-material-timepicker>
              <ion-icon name="time-outline" style="position: absolute;
                                top: 13px;
                                right: 16px;
                                color: rgb(78, 78, 78);
                                font-size: 30px;"></ion-icon>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="5">
              
              <ion-label class="editEventFormLabel">
                Event End Time
              </ion-label>
              
            </ion-col>
            <ion-col size="7">
              <input [ngxTimepicker]="eventEndTime" placeholder="Pick End Time" readOnly formControlName="eventEndTime"
									style="border: #ccc 1px solid;
										border-radius: 5px;
										width: 100%;
										height: 100%;
										padding: 15px;">
              <ngx-material-timepicker #eventEndTime [minutesGap]="5" [defaultTime]="eventSessionEndTime"></ngx-material-timepicker>
              <ion-icon name="time-outline" style="position: absolute;
                                top: 13px;
                                right: 16px;
                                color: rgb(78, 78, 78);
                                font-size: 30px;"></ion-icon>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="5">
              
              <ion-label class="editEventFormLabel">
                Event Status
              </ion-label>
              
            </ion-col>
            <ion-col size="7">
              <ion-item>
                <ion-label>
                  Event Status
                </ion-label>
                <ion-select placeholder="Change status" style="min-width: 100%;" okText="Continue" cancelText="Dismiss" formControlName="eventStatus">
                  <ion-select-option *ngFor="let item of publishedSessionStatuses" value="{{ item.payload.doc.data().status }}">
                    {{ item.payload.doc.data().status }}
                  </ion-select-option>
                </ion-select>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-button type="submit" expand="block" style="position: relative;
                                                              left: 50%;
                                                              transform: translateX(-50%);
                                                              top: 10px;" [disabled]="!editEventSessionForm.valid">
                Update Details
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </form>

    </ion-card-content>
  </ion-card>

</ion-content>
