<ion-header>
  <ion-toolbar>
    <ion-title>Edit Details of Transportation Slot</ion-title>
    <ion-button (click)="closeEditTransportSlotModal()" slot="end" shape="round" fill="outline" color="danger" style="margin-right: 20px;">
      <ion-icon name="close-outline" style="font-size: 30px;"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-card>
    <ion-card-content>

      <form [formGroup]="editTransportSlotForm" (ngSubmit)="doEditTransportSlot(editTransportSlotForm.value)">
        <ion-grid>
          <ion-row *ngIf="transportSlotTypeDeparture" style="padding-top: 10px;">

            <ion-col size="5">
              <ion-label>
                Departure
              </ion-label>
            </ion-col>
            <ion-col size="7">
              <ion-item>
                <ion-input type="text" inputClear placeholder="Enter Departure" formControlName="departure"></ion-input>
              </ion-item>
            </ion-col>

          </ion-row>
          <ion-row *ngIf="transportSlotTypeDestination" style="padding-top: 10px;">
            
            <ion-col size="5">
              <ion-label>
                Destination
              </ion-label>
            </ion-col>
            <ion-col size="7">
              <ion-item>
                <ion-input type="text" inputClear placeholder="Enter Destination" formControlName="destination"></ion-input>
              </ion-item>
            </ion-col>

          </ion-row>
          <ion-row>

            <ion-col size="5">
              <ion-label>
                Departure Time
              </ion-label>
            </ion-col>
            <ion-col size="7">
              <input [ngxTimepicker]="departureTime" placeholder="Pick Departure Time" readOnly formControlName="departureTime"
                            style="border: #ccc 1px solid;
                                  border-radius: 5px;
                                  width: 100%;
                                  height: 100%;
                                  padding: 15px;">
              <ngx-material-timepicker #departureTime [minutesGap]="5" [defaultTime]="'passedTransportSlotDepartureTime'"></ngx-material-timepicker>
              <ion-icon name="time-outline" style="position: absolute;
                                                  top: 13px;
                                                  right: 16px;
                                                  color: rgb(78, 78, 78);
                                                  font-size: 30px;"></ion-icon>
            </ion-col>

          </ion-row>
          <ion-row>

            <ion-col size="5">
              <ion-label>
                Approximate Arrival Time
              </ion-label>
            </ion-col>
            <ion-col size="7">
              <input [ngxTimepicker]="arrivalTime" placeholder="Pick Arrival Time" readOnly formControlName="approArrivalTime"
                            style="border: #ccc 1px solid;
                                  border-radius: 5px;
                                  width: 100%;
                                  height: 100%;
                                  padding: 15px;">
              <ngx-material-timepicker #arrivalTime [minutesGap]="5" [defaultTime]="'passedTransportSlotApproArrivalTime'"></ngx-material-timepicker>
              <ion-icon name="time-outline" style="position: absolute;
                                                  top: 13px;
                                                  right: 16px;
                                                  color: rgb(78, 78, 78);
                                                  font-size: 30px;"></ion-icon>
            </ion-col>

          </ion-row>
          <ion-row>

            <ion-col size="5">
              <ion-label>
                Available Days
              </ion-label>
            </ion-col>
            <ion-col size="7">
              <div style="border: #ccc solid 1px;
                          border-radius: 5px;">
                <ion-select multiple="true" placeholder="Select Weekdays" style="min-width: 100%;
                                                            min-height: 100%;" okText="Continue" cancelText="Dismiss" formControlName="availableWeekdays">
                  <ion-select-option value="Monday">Monday</ion-select-option>
                  <ion-select-option value="Tuesday">Tuesday</ion-select-option>
                  <ion-select-option value="Wednesday">Wednesday</ion-select-option>
                  <ion-select-option value="Thursday">Thursday</ion-select-option>
                  <ion-select-option value="Friday">Friday</ion-select-option>
                  <ion-select-option value="Saturday">Saturday</ion-select-option>
                  <ion-select-option value="Sunday">Sunday</ion-select-option>
                </ion-select>
                <ion-select multiple="true" placeholder="Select Weekends" style="min-width: 100%;
                                                            min-height: 100%;" okText="Continue" cancelText="Dismiss" formControlName="availableWeekends">
                  <ion-select-option value="Saturday">Saturday</ion-select-option>
                  <ion-select-option value="Sunday">Sunday</ion-select-option>
                </ion-select>
              </div>
            </ion-col>

          </ion-row>
          <ion-row>

            <ion-col size="5">
              <ion-label>
                Status
              </ion-label>
            </ion-col>
            <ion-col size="7">
              <ion-item>
                <ion-select placeholder="Select Status" style="min-width: 100%;" formControlName="status">
                  <ion-select-option *ngFor="let item of publishedTransportSlotStatuses" value="{{ item.payload.doc.data().status }}">{{ item.payload.doc.data().status }}</ion-select-option>
                </ion-select>
              </ion-item>
            </ion-col>

          </ion-row>
        </ion-grid>
        <ion-button expand="block" type="submit" style="margin-top: 15px;" [disabled]="!editTransportSlotForm.valid">
          Add
        </ion-button>
      </form>

    </ion-card-content>
  </ion-card>

</ion-content>
